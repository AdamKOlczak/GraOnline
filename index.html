<!DOCTYPE html>
<html>
<head>
  <title>Firebase Realtime Test</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>
  <h2>Realtime Counter Test</h2>
  <div>Counter value: <span id="counter">0</span></div>
  <button id="btnIncrement">Increment</button>

  <script>
    // Your Firebase config here:
    const firebaseConfig = {
      apiKey: "AIzaSyATOiD3Hp077WyGNi50KFTCxx_yrmuyxf0",
      authDomain: "gratest-cfc14.firebaseapp.com",
      databaseURL: "https://gratest-cfc14-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "gratest-cfc14",
      storageBucket: "gratest-cfc14.firebasestorage.app",
      messagingSenderId: "26328738989",
      appId: "1:26328738989:web:18484211ec540a9cf66a24"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const counterEl = document.getElementById('counter');
    const btnIncrement = document.getElementById('btnIncrement');

    const counterRef = db.ref('testCounter');

    // Listen to realtime changes
    counterRef.on('value', snapshot => {
      const val = snapshot.val();
      counterEl.textContent = val !== null ? val : 0;
    });

    // Increment on button click
    btnIncrement.onclick = () => {
      counterRef.transaction(current => {
        return (current || 0) + 1;
      });
    };
  </script>
</body>
</html>
